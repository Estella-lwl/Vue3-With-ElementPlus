{"version":3,"file":"js/962.0558dd24.js","mappings":"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","sources":["webpack://test/./src/views/main/System/User/config/search.config.ts","webpack://test/./src/views/main/System/User/config/content.config.ts","webpack://test/./src/views/main/System/User/config/dialog.config.ts","webpack://test/./src/views/main/System/User/user.vue?53c8","webpack://test/./src/views/main/System/User/user.vue"],"sourcesContent":["import { FormConfig } from \"@/base-ui/BasicForm\";\n\nexport const formConfig: FormConfig = {\n  colLayout: {\n    xl: 5,\n    lg: 8,\n    md: 12,\n    sm: 24,\n    xs: 24\n  },\n  labelWidth: \"65px\",\n  formItems: [\n    {\n      field: \"userName\",\n      label: \"用户名\",\n      type: \"input\",\n      // width: 200,\n      rules: [],\n      placeholder: \"请输入用户名\"\n    },\n    {\n      field: \"realName\",\n      label: \"姓名\",\n      type: \"input\",\n      rules: [],\n      placeholder: \"请输入姓名\"\n    },\n    {\n      field: \"cellphone\",\n      label: \"手机号\",\n      type: \"input\",\n      placeholder: \"请输入手机号\"\n    },\n    {\n      field: \"enable\",\n      label: \"用户状态\",\n      type: \"select\",\n      placeholder: \"请选择用户状态\",\n      options: [\n        {\n          title: \"启用\",\n          value: 1\n        },\n        {\n          title: \"禁用\",\n          value: 0\n        }\n      ]\n    },\n    {\n      field: \"createAt\",\n      label: \"创建时间\",\n      type: \"datepicker\",\n      //将以下属性全都使用时可以v-bind\n      otherOptions: {\n        startPlaceholder: \"开始时间\",\n        endPlaceholder: \"结束时间\",\n        type: \"daterange\"\n      }\n    }\n  ]\n};\n","export const contentTableConfig = {\n  title: \"用户列表\",\n  propList: [\n    {\n      prop: \"name\",\n      label: \"用户名\",\n      minWidth: \"100\"\n    },\n    {\n      prop: \"realname\",\n      label: \"真实姓名\",\n      minWidth: \"100\"\n    },\n    {\n      prop: \"cellphone\",\n      label: \"手机号码\",\n      minWidth: \"120\"\n    },\n    {\n      prop: \"enable\",\n      label: \"状态\",\n      minWidth: \"100\",\n      slotName: \"enable\"\n    },\n    {\n      prop: \"createAt\",\n      label: \"创建时间\",\n      minWidth: \"200\",\n      slotName: \"createAt\"\n    },\n    {\n      prop: \"updateAt\",\n      label: \"更新时间\",\n      minWidth: \"200\",\n      slotName: \"updateAt\"\n    },\n    {\n      prop: \"edit\",\n      label: \"操作\",\n      minWidth: \"180\",\n      slotName: \"edit\"\n    }\n  ],\n  isShowIdxCol: true,\n  isShowSelectCol: true\n};\n","import { FormConfig } from \"@/base-ui/BasicForm\";\n\n// 最后该表单所有配置都在下面：（也就可以直接放到config文件中）\nexport const dialogConfig: FormConfig = {\n  colLayout: {\n    span: 24 //独占一行\n  },\n  itemStyle: {},\n  labelWidth: \"70px\",\n  formItems: [\n    {\n      field: \"name\",\n      label: \"用户名\",\n      type: \"input\",\n      placeholder: \"请输入用户名\"\n    },\n    {\n      field: \"realname\",\n      label: \"真实姓名\",\n      type: \"input\",\n      placeholder: \"请输入真实姓名\"\n    },\n    {\n      field: \"password\",\n      label: \"用户密码\",\n      type: \"password\",\n      placeholder: \"请输入密码\",\n      isHiddenItem: true\n    },\n    {\n      field: \"cellphone\",\n      label: \"电话号码\",\n      type: \"input\",\n      placeholder: \"请输入电话号码\"\n    },\n    {\n      field: \"departmentId\",\n      label: \"选择部门\",\n      type: \"select\",\n      placeholder: \"请选择部门\",\n      options: []\n    },\n    {\n      field: \"roleId\",\n      label: \"选择角色\",\n      type: \"select\",\n      placeholder: \"请选择角色\",\n      options: []\n    }\n  ]\n};\n","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"user\" }\n\nimport { computed } from \"vue\";\nimport { useStore } from \"@/store\";\nimport PageSearch from \"@/components/Form\";\nimport PageContent from \"@/components/Table\";\nimport PageDialog from \"@/components/Dialog\";\n\nimport { formConfig } from \"./config/search.config\";\nimport { contentTableConfig } from \"./config/content.config\";\nimport { dialogConfig } from \"./config/dialog.config\";\n\nimport { usePageSearch } from \"@/hooks/usePageSearch\";\nimport { usePageDialog } from \"@/hooks/usePageDialog\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'user',\n  setup(__props) {\n\nconst pageName = \"users\";\nconst [pageContentRef, handleSearch, handleReset] = usePageSearch();\n\n// 控制密码显示\nconst addCallback = () => {\n  const pwdItem = dialogConfig.formItems.find(\n    (item) => item.field === \"password\"\n  );\n  pwdItem!.isHiddenItem = false;\n};\nconst editCallback = () => {\n  const pwdItem = dialogConfig.formItems.find(\n    (item) => item.field === \"password\"\n  );\n  pwdItem!.isHiddenItem = true;\n};\n\n// 下拉-动态添加部门和角色列表\nconst store = useStore();\nconst dialogConfigAct = computed(() => {\n  /*\n    1.先将store获取到的数据转化为下拉选项的格式；\n    2. 将维护好的格式赋值给 departmentItem 的options选项。\n */\n  const departmentItem = dialogConfig.formItems.find(\n    (item) => item.field === \"departmentId\"\n  );\n  departmentItem!.options = store.state.allDepartment.map((item) => {\n    return { title: item.name, value: item.id };\n  });\n\n  const roleItem = dialogConfig.formItems.find(\n    (item) => item.field === \"roleId\"\n  );\n  roleItem!.options = store.state.allRole.map((item) => {\n    return { title: item.name, value: item.id };\n  });\n\n  return dialogConfig;\n});\n\nconst [pageDialogRef, initData, handleAddAction, handleEditAction] =\n  usePageDialog(addCallback, editCallback);\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_tag = _resolveComponent(\"el-tag\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_unref(PageSearch), {\n      \"form-config\": _unref(formConfig),\n      onSearchEvent: _unref(handleSearch),\n      onResetEvent: _unref(handleReset)\n    }, null, 8, [\"form-config\", \"onSearchEvent\", \"onResetEvent\"]),\n    _createVNode(_unref(PageContent), {\n      ref_key: \"pageContentRef\",\n      ref: pageContentRef,\n      \"content-table-config\": _unref(contentTableConfig),\n      pageName: pageName,\n      onAddAction: _unref(handleAddAction),\n      onEditAction: _unref(handleEditAction)\n    }, {\n      enable: _withCtx((scope) => [\n        _createVNode(_component_el_tag, {\n          type: scope.row.enable ? 'success' : 'danger'\n        }, {\n          default: _withCtx(() => [\n            _createTextVNode(_toDisplayString(scope.row.enable ? \"启用\" : \"禁用\"), 1)\n          ]),\n          _: 2\n        }, 1032, [\"type\"])\n      ]),\n      _: 1\n    }, 8, [\"content-table-config\", \"onAddAction\", \"onEditAction\"]),\n    _createVNode(_unref(PageDialog), {\n      ref_key: \"pageDialogRef\",\n      ref: pageDialogRef,\n      dialogTitle: \"新建用户\",\n      pageName: pageName,\n      \"dialog-config\": _unref(dialogConfigAct),\n      \"init-data\": _unref(initData)\n    }, null, 8, [\"dialog-config\", \"init-data\"])\n  ]))\n}\n}\n\n})","import script from \"./user.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./user.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["formConfig","colLayout","xl","lg","md","sm","xs","labelWidth","formItems","field","label","type","rules","placeholder","options","title","value","otherOptions","startPlaceholder","endPlaceholder","contentTableConfig","propList","prop","minWidth","slotName","isShowIdxCol","isShowSelectCol","dialogConfig","span","itemStyle","isHiddenItem","_hoisted_1","class","_defineComponent","__name","setup","__props","pageName","pageContentRef","handleSearch","handleReset","usePageSearch","addCallback","pwdItem","find","item","editCallback","store","useStore","dialogConfigAct","computed","departmentItem","state","allDepartment","map","name","id","roleItem","allRole","pageDialogRef","initData","handleAddAction","handleEditAction","usePageDialog","_ctx","_cache","_component_el_tag","_resolveComponent","_openBlock","_createElementBlock","_createVNode","_unref","PageSearch","onSearchEvent","onResetEvent","PageContent","ref_key","ref","onAddAction","onEditAction","enable","_withCtx","scope","row","default","_createTextVNode","_toDisplayString","_","PageDialog","dialogTitle","__exports__"],"sourceRoot":""}