{"version":3,"file":"js/267.d7bf65aa.js","mappings":"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","sources":["webpack://test/./src/views/main/System/Role/config/search.config.ts","webpack://test/./src/views/main/System/Role/config/content.config.ts","webpack://test/./src/views/main/System/Role/config/dialog.config.ts","webpack://test/./src/views/main/System/Role/role.vue?67d7","webpack://test/./src/views/main/System/Role/role.vue"],"sourcesContent":["import { FormConfig } from \"@/base-ui/BasicForm\";\n\nexport const formConfig: FormConfig = {\n  colLayout: {\n    xl: 5,\n    lg: 8,\n    md: 12,\n    sm: 24,\n    xs: 24\n  },\n  labelWidth: \"70px\",\n  formItems: [\n    {\n      field: \"name\",\n      label: \"角色名称\",\n      type: \"input\",\n      // width: 200,\n      rules: [],\n      placeholder: \"请输入角色名称\"\n    },\n    {\n      field: \"intro\",\n      label: \"权限\",\n      type: \"input\",\n      // width: 90,\n      rules: [],\n      placeholder: \"请输入权限\"\n    },\n    {\n      field: \"date\",\n      label: \"时间\",\n      type: \"datepicker\",\n      // width: 150,\n      rules: [],\n      //将以下属性全都使用时可以v-bind\n      otherOptions: {\n        startPlaceholder: \"开始时间\",\n        endPlaceholder: \"结束时间\",\n        type: \"daterange\"\n      }\n    }\n  ]\n};\n","export const contentTableConfig = {\n  propList: [\n    {\n      prop: \"id\",\n      label: \"id\",\n      minWidth: \"100\"\n    },\n    {\n      prop: \"name\",\n      label: \"角色\",\n      minWidth: \"100\"\n    },\n    {\n      prop: \"intro\",\n      label: \"权限\",\n      minWidth: \"120\"\n    },\n    {\n      prop: \"createAt\",\n      label: \"创建时间\",\n      minWidth: \"200\",\n      slotName: \"createAt\"\n    },\n    {\n      prop: \"updateAt\",\n      label: \"更新时间\",\n      minWidth: \"200\",\n      slotName: \"updateAt\"\n    },\n    {\n      prop: \"edit\",\n      label: \"操作\",\n      minWidth: \"180\",\n      slotName: \"edit\"\n    }\n  ],\n  isShowIdxCol: true,\n  isShowSelectCol: true,\n  title: \"角色列表\"\n};\n","import { FormConfig } from \"@/base-ui/BasicForm\";\n\n// 最后该表单所有配置都在下面：（也就可以直接放到config文件中）\nexport const dialogConfig: FormConfig = {\n  colLayout: {\n    span: 24 //独占一行\n  },\n  itemStyle: {},\n  labelWidth: \"70px\",\n  formItems: [\n    {\n      field: \"name\",\n      label: \"角色名\",\n      type: \"input\",\n      placeholder: \"请输入角色名\"\n    },\n    {\n      field: \"intro\",\n      label: \"角色介绍\",\n      type: \"input\",\n      placeholder: \"请输入角色介绍\"\n    }\n  ]\n};\n","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"role\" }\n\nimport { ref, computed } from \"vue\";\nimport { useStore } from \"@/store\";\nimport { formConfig } from \"./config/search.config\";\nimport { contentTableConfig } from \"./config/content.config\";\nimport PageSearch from \"@/components/Form\";\nimport PageContent from \"@/components/Table\";\nimport PageDialog from \"@/components/Dialog\";\nimport { dialogConfig } from \"./config/dialog.config\";\nimport { usePageSearch } from \"@/hooks/usePageSearch\";\nimport { usePageDialog } from \"@/hooks/usePageDialog\";\nimport { getMenuLeafKeys } from \"@/utils/mapMenu\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'role',\n  setup(__props) {\n\nconst pageName = \"role\";\nconst [pageContentRef, handleSearch, handleReset] = usePageSearch();\n\n// 处理dialog的hook\nconst leafKeys = ref();\n\nconst addCallback = () => {\n  leafKeys.value = undefined; // 解决新建弹窗中tree的回显\n};\n\nconst editCallback = (item: any) => {\n  // 回显el-tree\n  leafKeys.value = getMenuLeafKeys(item.menuList);\n};\n\nconst [pageDialogRef, initData, handleAddAction, handleEditAction] =\n  usePageDialog(addCallback, editCallback);\nconst store = useStore();\n\n// 树形结构\nconst menuData = computed(() => store.state.allMenu); // 全部菜单\nconst menuCheckList = ref();\nconst checkChange = (curNodeObj: any, treeCheckedObj: any) => {\n  // 处理&组装所选\n  menuCheckList.value = {\n    ...treeCheckedObj.checkedKeys,\n    ...treeCheckedObj.halfCheckedKeys\n  };\n};\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_tree = _resolveComponent(\"el-tree\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_unref(PageSearch), {\n      \"form-config\": _unref(formConfig),\n      onSearchEvent: _unref(handleSearch),\n      onResetEvent: _unref(handleReset)\n    }, null, 8, [\"form-config\", \"onSearchEvent\", \"onResetEvent\"]),\n    _createVNode(_unref(PageContent), {\n      ref_key: \"pageContentRef\",\n      ref: pageContentRef,\n      dialogTitle: \"新建角色\",\n      pageName: pageName,\n      \"content-table-config\": _unref(contentTableConfig),\n      onAddAction: _unref(handleAddAction),\n      onEditAction: _unref(handleEditAction)\n    }, null, 8, [\"content-table-config\", \"onAddAction\", \"onEditAction\"]),\n    _createVNode(_unref(PageDialog), {\n      ref_key: \"pageDialogRef\",\n      ref: pageDialogRef,\n      dialogTitle: \"新建角色\",\n      pageName: pageName,\n      \"dialog-config\": _unref(dialogConfig),\n      \"init-data\": _unref(initData),\n      \"checked-data\": menuCheckList.value\n    }, {\n      default: _withCtx(() => [\n        _createVNode(_component_el_tree, {\n          data: _unref(menuData),\n          \"show-checkbox\": \"\",\n          \"node-key\": \"id\",\n          props: { children: 'children', label: 'name' },\n          \"default-checked-keys\": leafKeys.value,\n          onCheck: checkChange\n        }, null, 8, [\"data\", \"default-checked-keys\"])\n      ]),\n      _: 1\n    }, 8, [\"dialog-config\", \"init-data\", \"checked-data\"])\n  ]))\n}\n}\n\n})","import script from \"./role.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./role.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["formConfig","colLayout","xl","lg","md","sm","xs","labelWidth","formItems","field","label","type","rules","placeholder","otherOptions","startPlaceholder","endPlaceholder","contentTableConfig","propList","prop","minWidth","slotName","isShowIdxCol","isShowSelectCol","title","dialogConfig","span","itemStyle","_hoisted_1","class","_defineComponent","__name","setup","__props","pageName","pageContentRef","handleSearch","handleReset","usePageSearch","leafKeys","ref","addCallback","value","undefined","editCallback","item","getMenuLeafKeys","menuList","pageDialogRef","initData","handleAddAction","handleEditAction","usePageDialog","store","useStore","menuData","computed","state","allMenu","menuCheckList","checkChange","curNodeObj","treeCheckedObj","checkedKeys","halfCheckedKeys","_ctx","_cache","_component_el_tree","_resolveComponent","_openBlock","_createElementBlock","_createVNode","_unref","PageSearch","onSearchEvent","onResetEvent","PageContent","ref_key","dialogTitle","onAddAction","onEditAction","PageDialog","default","_withCtx","data","props","children","onCheck","_","__exports__"],"sourceRoot":""}